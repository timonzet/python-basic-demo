{% extends 'base.html' %}

{% block title %}
    Create User
{% endblock %}

{% block head %}

{% endblock %}
{% from 'macros/show-flashed-messages.html' import show_flashed_messages_with_categories %}
{% block body %}
     {{ show_flashed_messages_with_categories() }}
    <div>
        <h3>Create a new user:</h3>
        <form method="post">
            <div class="my-3">
                {{ form.hidden_tag() }}
                {{ form.name.label(class="form-label") }}
                {{ form.name(size=20, class="form-control") }}
                {{ form.username.label(class="form-label") }}
                {{ form.username(size=20, class="form-control") }}
                {% if form.errors %}
                    {% for field_name, errors in form.errors.items() %}
                        <div class="my-3 alert alert-danger">
                            <strong>{{ field_name }}</strong>
                            <ul>
                                {% for error in errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <input class="btn btn-primary" type="submit" value="Add">
        </form>
    </div>
    <div class="mt-2">
        <a href="{{ url_for('users_app.list') }}">
            Back to user list
        </a>
    </div>
{% endblock %}